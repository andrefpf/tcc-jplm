function(add_jplm_part2_boxes_decoder_lib_test TEST_NAME TEST_BIN_NAME TEST_SOURCE)
	add_executable(${TEST_BIN_NAME} ${TEST_SOURCE})
	target_link_libraries(${TEST_BIN_NAME} PRIVATE gtest_main)
	target_link_libraries(${TEST_BIN_NAME} PRIVATE jplm_part2_boxes_decoder)
	target_link_libraries(${TEST_BIN_NAME} PRIVATE jplm_common_boxes_parsers)	
	target_link_libraries(${TEST_BIN_NAME} PRIVATE stream)
	add_test(${TEST_NAME} ${EXECUTABLE_OUTPUT_PATH}/${TEST_BIN_NAME} "${CMAKE_HOME_DIRECTORY}/resources")
endfunction()

add_jplm_part2_boxes_decoder_lib_test(ProfileAndLevelBoxParserTests profile_and_level_box_parser_tests ProfileAndLevelBoxParserTests.cpp)
add_jplm_part2_boxes_decoder_lib_test(LightFieldHeaderBoxParserTests light_field_header_box_parser_tests LightFieldHeaderBoxParserTests.cpp)
add_jplm_part2_boxes_decoder_lib_test(JpegPlenoLightFieldHeaderBoxParserTests jpeg_pleno_light_field_header_box_parser_tests JpegPlenoLightFieldHeaderBoxParserTests.cpp)
add_jplm_part2_boxes_decoder_lib_test(JpegPlenoLightFieldBoxParserTests jpeg_pleno_light_field_box_parser_tests JpegPlenoLightFieldBoxParserTests.cpp)
add_jplm_part2_boxes_decoder_lib_test(CameraParameterBoxParserTests camera_parameter_box_parser_tests CameraParameterBoxParserTests.cpp)
